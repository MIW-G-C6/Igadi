try{window.performance.mark("async-global-trackers-components.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-global-trackers-components"],{"./src/packages/common-legacy-do-not-add-anything-new/src/util/has-jsw-jsd.js":function(e,t,s){"use strict";var a=s("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-tenant-context/index.js");t.a=()=>{const e=Object(a.h)(),{JIRA_SOFTWARE:t,JIRA_SERVICEDESK:s}=a.a;return e[t]&&e[s]}},"./src/packages/common-legacy-do-not-add-anything-new/src/util/is-jsw-jsd-bundle.js":function(e,t,s){"use strict";var a=s("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-tenant-context/index.js");t.a=()=>{const{JIRA_SOFTWARE:e,JIRA_SERVICEDESK:t}=a.a,s=Object(a.g)();return void 0!==s&&s.startsWith(`${e}.ondemand,${t}.ondemand`)}},"./src/packages/platform/observability/spa-transition-resources-tracker/src/index.js":function(e,t,s){"use strict";s.d(t,"a",(function(){return E}))
;var a=s("./node_modules/@atlaskit/analytics-next/dist/es2019/hocs/withAnalyticsEvents.js"),r=s("./node_modules/react/index.js"),n=s.n(r),c=(s("./node_modules/react-magnetic-di/lib/esm/index.js"),s("./node_modules/react-resource-router/build/esm/index.js")),i=s("./src/packages/common-legacy-do-not-add-anything-new/src/util/index.js"),o=s("./src/packages/platform/observability/errors-handling/src/utils/fire-error-analytics.js"),l=s("./src/packages/platform/observability/product-analytics-bridge/src/utils/fire-analytics.js"),u=s("./src/packages/routes/src/common/ui/resources/constants.js"),d=s("./src/packages/platform/controllers/spa-state/src/components/transition-state/index.js"),p=s("./src/packages/platform/controllers/spa-state/src/common/index.js");const m=()=>Object(i.b)("issue.details.forge-ui-synthetic-check",!1);var g=s("./src/packages/platform/observability/spa-transition-resources-tracker/src/utils/prefetch-timing/index.js");function y(e,t){var s=Object.keys(e)
;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function j(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?y(Object(s),!0).forEach((function(t){b(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):y(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function b(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const f={type:null,duration:null,end:null,isCacheHit:null,start:0},h=({resource:e,route:t,createAnalyticsEvent:s,setResourceMetrics:a,currentMatch:n,isInitialRender:u})=>{const[d,p]=Object(r.useState)(f),[y,b]=Object(r.useState)(!1),h=Object(c.p)(e);return Object(r.useEffect)((()=>()=>{p(j({},f)),b(!1)}),[t]),Object(r.useEffect)((()=>{
if(null===h.expiresAt||y)return;const t=Date.now();null===d.isCacheHit&&((e,t)=>{var s;return!e.loading&&(null!==(s=e.expiresAt)&&void 0!==s?s:0)>t})(h,t)?p((s=>j(j({},s),{},{duration:0,end:t,isCacheHit:!0,start:t,type:e.type}))):h.loading&&0===d.start?p((s=>j(j({},s),{},{type:e.type,isCacheHit:!1,start:t}))):h.loading||d.start===f.start||d.end!==f.end||p((e=>j(j({},e),{},{duration:t-e.start,end:t})))}),[y,t,d,e,h]),Object(r.useEffect)((()=>{if(y||!(({duration:e,end:t,isCacheHit:s,start:a})=>s!==f.isCacheHit&&e!==f.duration&&a!==f.start&&t!==f.end)(d))return;const{isCacheHit:r,duration:c,start:p,end:O,type:k}=d,{error:E}=h,v=E?"fetchFailed":"fetchSucceeded",w=s({action:v}),A=E&&E instanceof Error?E.toString():E,C=t.name?t.name:"empty";Object(l.b)(w,`${v} resource`,e.type,j({duration:c,isCacheHit:r,start:p,end:O,routeName:C,prefetchStartTime:Object(g.b)(n),isInitialRender:u},null!=A?{error:A}:{})),E&&(Object(o.a)({meta:{id:`spaTransitionResources.${(k||"").toLowerCase()}`,
packageName:"jiraSpaTransitionResourcesTracker",teamName:"magma"},attributes:{isSynthetic:"true"===Object(i.d)("ajs-is-synthetic")||m()},error:E}),i.h.safeErrorWithoutCustomerData(`resources.${(k||"").toLowerCase()}`,A||"",E)),a({end:O,isCacheHit:r,start:p,type:k}),b(!0)}),[s,t,y,d,a,h,e,n,u]),null},O=({createAnalyticsEvent:e,setResourceMetrics:t})=>{const[{route:s,match:a}]=Object(c.q)(),[{isInitialRender:i}]=Object(d.b)();Object(r.useEffect)((()=>{Object(g.a)(a)}),[a]);return Object(r.useMemo)((()=>{var r;return((null==s||null===(r=s.resources)||void 0===r?void 0:r.filter((e=>e.type!==u.B)))||[]).map((r=>n.a.createElement(h,{key:r.type,resource:r,route:s,currentMatch:a,createAnalyticsEvent:e,setResourceMetrics:t,isInitialRender:i})))}),[s,a,e,t,i])},k=({createAnalyticsEvent:e})=>n.a.createElement(p.a,null,((t,{setResourceMetrics:s})=>n.a.createElement(O,{setResourceMetrics:s,createAnalyticsEvent:e})));k.displayName="SpaResourceMetricsControllerWithActions";const E=Object(a.a)()(k)},
"./src/packages/platform/observability/spa-transition-resources-tracker/src/utils/prefetch-timing/index.js":function(e,t,s){"use strict";s.d(t,"c",(function(){return r})),s.d(t,"b",(function(){return n})),s.d(t,"a",(function(){return c}));const a=new Map,r=e=>{const t=JSON.stringify(e);a.has(t)||a.set(t,{startPrefetchTime:Date.now()})},n=e=>{const t=JSON.stringify(e),{startPrefetchTime:s}=a.get(t)||{startPrefetchTime:null};return s},c=e=>{if(!a||!a.keys)return;const t=JSON.stringify(e);Array.from(a.keys()).forEach((e=>{e!==t&&a.has(e)&&a.delete(e)}))}},"./src/packages/platform/ui/layouts/jira-shared-layout/src/ui/trackers/index.js":function(e,t,s){"use strict";s.r(t),s.d(t,"Trackers",(function(){return v}))
;var a=s("./node_modules/react/index.js"),r=s.n(a),n=s("./node_modules/@atlaskit/analytics-next/dist/es2019/hocs/withAnalyticsEvents.js"),c=s("./src/packages/common-legacy-do-not-add-anything-new/src/util/get-tenant-context/index.js"),i=s("./src/packages/platform/ui/error-boundary/src/main.js"),o=s("./node_modules/@atlaskit/analytics-next/dist/es2019/hooks/useAnalyticsEvents.js"),l=s("./src/packages/platform/observability/product-analytics-bridge/src/utils/fire-analytics.js");const u=Object(n.a)()((()=>{const{createAnalyticsEvent:e}=Object(o.a)(),t=Object(c.c)().isDevopsProjectCreationScenario;return Object(a.useEffect)((()=>{t&&Object(l.b)(e({}),"devopsSite visited")}),[e,t]),null})),d=()=>r.a.createElement(i.a,{id:"devopsFireTargetingEvents",packageName:"jiraSpaAppsDevopsFireTargetingEvents"},r.a.createElement(u,null));d.displayName="SafeWithAnalyticsFireDevopsTargetingEvents"
;var p=d,m=s("./src/packages/common-legacy-do-not-add-anything-new/src/util/has-jsw-jsd.js"),g=s("./src/packages/common-legacy-do-not-add-anything-new/src/util/is-jsw-jsd-bundle.js"),y=s("./src/packages/common-legacy-do-not-add-anything-new/src/util/with-injected-props.js");class j extends a.Component{componentDidMount(){const{onJswConfluenceBundleCheck:e,onJswJsdBundleCheck:t,createAnalyticsEvent:s,onGetFirstActivationDate:a}=this.props,r=e(),n=t(),c=a(),i=Date.now(),o=null!==c?i-c:null;null!==o&&o>0&&o<6048e5&&(r&&Object(l.b)(s({}),"appswitcherSpotlight targeting"),n&&Object(l.b)(s({}),"appswitcherjsdspotlight targeting"))}render(){return null}}j.displayName="FireEngagementTargetingEvents",j.displayName="FireEngagementTargetingEvents";var b=Object(n.a)()(j),f=Object(y.a)(b,{onJswJsdBundleCheck:()=>Object(m.a)()&&Object(g.a)(),onJswConfluenceBundleCheck:()=>(()=>{const e=Object(c.h)(),{JIRA_SOFTWARE:t,CONFLUENCE:s}=c.a;return e[t]&&e[s]})()&&(()=>{
const{JIRA_SOFTWARE:e,CONFLUENCE:t}=c.a,s=Object(c.g)();return void 0!==s&&s.startsWith(`${e}.ondemand,${t}.ondemand`)})(),onGetFirstActivationDate:()=>Object(c.f)()}),h=s("./node_modules/react-loosely-lazy/lib/esm/index.js");const O=Object(h.g)((()=>s.e("async-legacy-issue-create-trackers").then(s.bind(null,"./src/packages/issue-create/legacy-issue-create-trackers/src/index.js"))),{ssr:!1,moduleId:"./src/packages/issue-create/legacy-issue-create-trackers/src/index.js"});var k=()=>r.a.createElement(i.a,{id:"async.jira.legacy-issue-create.trackers",packageName:"jiraLegacyIssueCreateTrackers"},r.a.createElement(h.a,{fallback:r.a.createElement(r.a.Fragment,null)},r.a.createElement(O,null))),E=s("./src/packages/platform/observability/spa-transition-resources-tracker/src/index.js");const v=()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null),r.a.createElement(f,null),r.a.createElement(p,null),r.a.createElement(k,null));t.default=v}}]);try{
window.__jsEvalStop("async-global-trackers-components.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-global-trackers-components.2fbad925f31078a328ba.8.js.map